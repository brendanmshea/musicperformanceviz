<?xml version="1.0" encoding="utf-8"?>

<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:dsc="com.dougmccune.controls.*"	layout="absolute" xmlns:degrafa="http://www.degrafa.com/2007" creationComplete="init()">
	<mx:Script source="util.as"/>
	<mx:Script source="controls.as"/>
	<mx:Script source="data.as"/>
	<mx:HTTPService 
        id="eventData"
        url="data.tsv" 
        resultFormat="text"
        result="parseData(event.result);"
	/>

	<mx:ViewStack x="10" y="10" id="viewstack1" width="868" height="440">
		<mx:Canvas label="Graph" id="graph" width="100%" height="100%"
			borderThickness="1" borderColor="red" borderStyle="solid">
			<mx:Script source="circles.as"/>
 		</mx:Canvas>
		<mx:Canvas label="Map" width="100%" height="100%">
			<maps:Map xmlns:maps="com.google.maps.*" id="map"
				mapevent_mapready="onMapReady(event)" width="100%" height="100%"
				key="ABQIAAAAnylVxBr4JiDtDlrqkiOqZxSAhY-_9xEY4tKjfb8L_K9NmjWAChQI34SLLuJiLc6iyGvTQ6_OFJCaRg"/>
			<mx:Script source="map.as"/>
		</mx:Canvas>
	</mx:ViewStack>
	<mx:ButtonBar x="404" y="456" dataProvider="viewstack1"/>
	<dsc:HSlider x="250" y="479"
                            trackHighlightSkin="com.dougmccune.skins.SliderThumbHighlightSkin"
                            allowTrackClick="true" allowThumbOverlap="true" 
                            liveDragging="true" 
                            showDataTip="true"  dataTipPlacement="top"  dataTipOffset="3" 
                            showTrackHighlight="true"
                            thumbCount="2"  width="200" 
                            values="[-2000, 4000]"
                            minimum="-9000" maximum="9000" snapInterval="1"
                        />
	<!-- Neighborhood selector.  -->
	<mx:HBox x="480" y="485">
		<mx:LinkButton id="neighborhoods" label="Neighborhoods" 
			color="blue" textDecoration="underline"
			click="neighborhoodSelect(neighborhoods, neighborhoodsSelections)" />
		<mx:Label text="(click to select)" />
	</mx:HBox>
	<mx:Text id="neighborhoodsSelections" width="300" x="480" y="505" />
	<!-- Genre selector. -->
	<mx:HBox x="710" y="485">
		<mx:LinkButton id="genres" label="Genre" color="blue" textDecoration="underline"
		               click="genreSelect(genres, genreSelections)" />
		<mx:Label text="(click to select)" />
	</mx:HBox>
	<mx:Text id="genreSelections" width="300" x="710" y="505" />
	<mx:Button x="100" y="479" label="Circle" click="drawCircle()"/>
	<mx:Button x="160" y="479" label="Events" click="drawEventCircles()"/>
</mx:Application>
